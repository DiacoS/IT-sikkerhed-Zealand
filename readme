# Flat File Database – Brugerdatabase i JSON

## Hvorfor er det smart at bruge en flat_file_db?

En flat file database gemmer alle data direkte i én fil – her i JSON-format. Det er smart fordi:

- **Ingen opsætning** – der kræves ingen databaseserver, ingen installation og ingen konfiguration. Det virker bare.
- **Portabilitet** – databasen er en enkelt fil der nemt kan kopieres, deles eller flyttes.
- **Læsbart format** – JSON kan åbnes i et tekstprogram og forstås med det samme, uden SQL-forespørgsler.
- **Perfekt til små projekter** – til prototyper og applikationer med få brugere er det mere end tilstrækkeligt og langt hurtigere at implementere end en rigtig database.

---

## Funktioner

Databasen understøtter følgende funktioner, fundet via test design:

| Funktion | Beskrivelse |
|---|---|
| `create_user(...)` | Opret en ny bruger – persondata krypteres og password hashes automatisk |
| `get_user(person_id)` | Hent én bruger via ID – data dekrypteres ved hentning |
| `get_all_users()` | Hent alle brugere – data dekrypteres ved hentning |
| `update_user(person_id, **kwargs)` | Opdatér felter på en bruger |
| `delete_user(person_id)` | Slet en bruger |

---

## Kryptering og hashing

For at overholde GDPR og beskytte brugerdata er følgende implementeret:

kryptering med Fernet (AES-128-CBC) inden det gemmes i JSON-filen. Det betyder at selv hvis filen falder i de forkerte hænder, er dataene ulæselige uden nøglen.

password hash med SHA-256. Et hash er envejs – passwordet kan aldrig genskabes fra hashen, heller ikke af systemet selv.

Dataene i `users.json` ser derfor sådan ud:

```json
{
  "person_id": 1,
  "first_name": "gAAAAABn...",
  "last_name": "gAAAAABn...",
  "address": "gAAAAABn...",
  "street_number": "gAAAAABn...",
  "password": "ef92b778bafe771207...",
  "enabled": true
}
```

 hvis du vil kører testene hihi 


python -m unittest test_flat_file_db -v
python -m unittest test_kryptering -v
```
SE IMAGE MAPPEN FOR SCREENSHOTS
